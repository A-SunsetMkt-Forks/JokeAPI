## JokeAPI v3 

### Problems with v2:
- Usage
    - safe mode should have been opt-out from the beginning
- Development
    - JS and CommonJS instead of TS
    - Too much usage of native modules which led to too much DIY
    - Overcomplicated APIs
        - Class-based endpoints system
        - Class-based joke filter
    - Half-assed and broken analytics
    - DIY translations
    - Too much deviation from standards
        - Invalid auth token format
        - Wonky DIY HTTP headers
    - Pretty bad error logging
    - DIY rate limiting instead of leveraging nginx or something
- Submission system
    - Submissions get spammed
    - Duplicates or "people falling asleep on the keyboard" isn't preemptively filtered out
    - CLI-based tools are clunky and unstable
    - Editing and reformatting submissions is abysmal
    - No additional moderators can be added without granting full SSH privileges
- File-based operations
    - Slow
    - Prone to failure (when accessed multiple times at once)
    - Too much DIY
- Documentation
    - Oh god oh fuck please make it stop
    - Vanilla JS and HTML?????? what the fuck was I thinking?????????
    - Just way too much work to update
- No monetization

<br>

### What v3 should do better:
- Usage
    - make safe mode opt-out instead of opt-in
- Development
    - use TS instead of JS
    - libraries to use:
        - an actual logging lib -> [winston](https://www.npmjs.com/package/winston)
            - logging backend -> [graylog](https://www.graylog.org/products/source-available/)
            - logging backend plugin -> [winston-graylog2](https://www.npmjs.com/package/@eximius/winston-graylog2)
        - an actual analytics lib -> [analytics](https://www.npmjs.com/package/analytics)
        - express for the REST stuff
            - CORS and helmet plugins
        - i18next for translations
    - research and stick to HTTP standards
    - think about increasing the ratelimit timeframe to something like a day to incentivise the paid tier(s)
- Submissions
    - add an extra website
        - any user can submit jokes
        - any user can vote on jokes
        - any user can propose an edit to submissions
        - moderators do a final reformatting and accept or deny the submission
    - pre-filtering
        - prevent duplicates from being submitted
        - filter out keyboard diarrhoea submissions
- File-based operations
    - instead use Postgres with Prisma
        - way faster
        - less resource heavy
        - queries are very easy to write
- Documentation
    - research tooling to make this easier
    - use an actual web framework this time ðŸ™ƒ
    - make it actually look half-way acceptable
- Monetization
    - add multiple tiers
        - different rate limit budgets
        - maybe the more advanced filters should be paywalled (I hate this as much as anyone but I really need to be paid)
    - maybe ads on the documentation?
    - TODO: think of more ways to incentivise paid tiers
